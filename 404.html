<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    
    <title>DakBaksho - Anonymous Message Sender</title>
<meta name="title" content="DakBaksho - Anonymous Message Sender">
<meta name="description" content="Send anonymous messages to your friends with DakBaksho! A fun and easy way to connect and enjoy anonymous interactions.">

<meta property="og:type" content="website">
<meta property="og:url" content="https://dakbaksho.github.io">
<meta property="og:title" content="DakBaksho - Anonymous Message Sender">
<meta property="og:description" content="Send anonymous messages to your friends with DakBaksho! A fun and easy way to connect and enjoy anonymous interactions.">
<meta property="og:image" content="https://dakbaksho.github.io/files/metaimage.jpg">

<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://dakbaksho.github.io/">
<meta property="twitter:title" content="DakBaksho - Anonymous Message Sender">
<meta property="twitter:description" content="Send anonymous messages to your friends with DakBaksho! A fun and easy way to connect and enjoy anonymous interactions.">
<meta property="twitter:image" content="https://dakbaksho.github.io/files/metaimage.jpg">

<meta name="author" content="Antar Saha">
<meta name="robots" content="index, follow">
<meta name="keywords" content="login, dakbaksho, anonymous message sender, fun apps, antar saha, anonymous messages">
<link rel="canonical" href="https://dakbaksho.github.io/">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <style>
        body {            
          display: flex;
          flex-direction: row;
          align-items: center;
          justify-content: center;
          text-align: center;
          height: 99vh;
        }
    </style>
    <script>
        // Initialize Firebase with your configuration
        var firebaseConfig = {
            apiKey: "AIzaSyAvC3w2OJatNPTfOD0YE5-v24XYul2vg7s",
            authDomain: "anonymous-messages-692c3.firebaseapp.com",
            projectId: "anonymous-messages-692c3",
            storageBucket: "anonymous-messages-692c3.appspot.com",
            messagingSenderId: "152307243781",
            appId: "1:152307243781:web:f9e7787bcab188aefa756c"
        };

        firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();

        document.addEventListener("DOMContentLoaded", function() {
            // Extract the username from the current URL
            var path = window.location.pathname;
            var user = path.split("/").pop();  // Get the last part of the URL, i.e., 'antar'
            
            if (user) {
                // Check if user exists in Firebase
                db.collection('users').doc(user).get().then((doc) => {
                    if (doc.exists) {
                        // User found, redirect to user.html with query parameter
                        window.location.href = `/user.html?user=${user}`;
                    } else {
                        // User not found, show error
                        document.body.innerHTML = `
                            <div><h1>Error: User not found</h1>
                            <p>The user you're looking for doesn't exist.<br>Go to <a href="https://dakbaksho.github.io/" style="text-decoration: none;">Homepage</a></p>
                            </div>
                            `;
                   ;
                    }
                }).catch((error) => {
                    console.error("Error fetching user:", error);
                    document.body.innerHTML = "<h1>Error: Unable to fetch user</h1>";
                });
            } else {
                // If no user is found, redirect to the home page or a default page
                window.location.href = `/index.html`;
            }
        });
    </script>
</head>
<body>
    <h1>Searching User...</h1>
</body>
</html>
